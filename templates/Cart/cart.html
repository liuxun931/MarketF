{% extends "base_layer2.html" %}
{% load static %}

{% block cart %}

<div class = "container">


<div class="row">
<a style="color:green;font-size:large;padding-bottom:20px;padding-top:30px;">我的购物车</a>
</div>


<div class="row">

<table id="cart-table" class="table table-striped table-hover" >

  <thead>
    <tr>

      <th scope="col">商品名称</th>
      <th scope="col">金额：元</th>
      <th scope="col">数量</th>
      <th scope="col">小计</th>

    </tr>
  </thead>
  
  <tbody>
{% for t in items %}
    <tr>
      <th scope="row">{{t.0}}</th>
      <td> {{ t.1 }}</td>
      <td> {{ t.2 }}</td>
      <td> {{ t.3}} </td>
    </tr>
{% endfor %}
  </tbody>
  
</table>   

<script>
// set up1_score, up2_score
$(document).ready(function(){
    // auto cal scores
		$("#cart-table").bind('input propertychange', function(){
			var table = document.getElementById("cart-table"); 
			var rows = table.rows;   
			var sum = 0;
			
			for (i = 1; i < rows.length; i++){
				var price = new Number(rows[i].cells[1].innerText);
				var qnt = new Number(rows[i].cells[2].innerText);
				
				sum += price*qnt;
				
				rows[i].cells[3].innerText = sum
			}
			
		}}

	

</script>
<!-- end ajax -->	


</div>


</div>

{% endblock %}
